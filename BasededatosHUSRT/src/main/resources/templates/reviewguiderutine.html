<!doctype html>
<html lang="en"xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
 <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.80.0">
    <title th:text="${nombrelineaequipo}"></title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/carousel/">

    

    <!-- Bootstrap core CSS -->
<link href="../static/ccs/bootstrap.min.css" rel="stylesheet"th:href="@{/css/bootstrap.min.css}">

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>
    
    <!-- Custom styles for this template -->
    <link href="../static/css/carousel.css" rel="stylesheet"th:href="@{/css/carousel.css}">
     <script >
      function myFunction(){
		var input,filter,div,tr,td,i,txtValue;
		input = document.getElementById("myInput");
		filter = input.value.toUpperCase();
		div = document.getElementById("myTable");
		tr = div.getElementsByClassName("table-light");
		for(i=0;i<tr.length;i++){
			td1 = tr[i].getElementsByTagName("td")[0];
			td2 = tr[i].getElementsByTagName("td")[1];
			td3 = tr[i].getElementsByTagName("td")[2];
			td4 = tr[i].getElementsByTagName("td")[3];
			if(td1 || td2 || td3){
				txtValue1 = td1.textContent || td1.innerText;
				txtValue2 = td2.textContent || td2.innerText;
				txtValue3 = td3.textContent || td3.innerText;
				txtValue4 = td4.textContent || td4.innerText;
				if((txtValue1.toUpperCase().indexOf(filter))>-1){
					tr[i].style.display = "";					
				}
				else if((txtValue2.toUpperCase().indexOf(filter))>-1){
					tr[i].style.display = "";					
				}
				else if((txtValue3.toUpperCase().indexOf(filter))>-1){
					tr[i].style.display = "";					
				}
				else if((txtValue4.toUpperCase().indexOf(filter))>-1){
					tr[i].style.display = "";					
				}
				else{
					tr[i].style.display = "none";
				}
				
			}
			
			
		}
	}
    </script>
  </head>
  <body>
    
<header>
  <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" th:href="@{/producto}">HRCatch</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav me-auto mb-2 mb-md-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" th:href="@{/producto}">Atras</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" th:href="@{/clasificacion}">Clasificación</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" th:href="@{/periodicidad}">Periodicidad</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" th:href="@{/usuarios}">Usuarios</a>

          </li>
          <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="dropdown01" data-bs-toggle="dropdown" aria-expanded="false">Más información</a>
          <ul class="dropdown-menu" aria-labelledby="dropdown01">
            <li><a class="dropdown-item" href="mailto:david.cruz@udea.edu.co">Soporte, quejas y reclamos</a></li>
            <li><a class="dropdown-item" href="https://www.youtube.com/watch?v=tCHhrFIZrRA&list=PL99rVemgq-J5bg7nqCtfQeN5eqgM_GPVd">Youtube tuto</a></li>
             
          </ul>
        </li>          
        </ul>
        
      </div>
    </div>
  </nav>
</header>

  
<main class="container">  
<form class="needs-validation" validate method = "post" th:action = "@{/asignarguia}" enctype = "multipart/form-data" th:id = "fileUploadForm" >
  <div class="my-3 p-3 bg-body rounded shadow-sm">
    <div class="starter-template text-center py-5 px-3">
      <h1><medium class="text-muted"th:text="Equipos"></medium></h1>
      <p class="lead">Seleccione los equipos a asignar la guia</p>
    </div>
     
    <div class="col-md-12 col-lg-12">
      <div class="input-group">
        <input class="form-control" id="myInput"onkeyup="myFunction()"type="text" placeholder="Ingrese la marca, el modelo o la serie del equipo" aria-label="Search">
        <span class="input-group-btn">
          <button type="button" class="w-200 btn btn-lg btn-dark" onclick="myFunction()">Buscar</button>
        </span>
      </div>
    </div>
  	  <div class = "table-responsive">
	         <div class="bd-example">
	        <table class="table table-hover" id = "myTable">
	          <thead>
	          <tr class="table-secondary">
	            <th scope="col">ID</th>
	            <th scope="col">Equipo</th>
	            <th scope="col">Marca</th>
	            <th scope="col">Modelo</th>
	            <th scope="col">Serie</th>
	            <th scope="col">Servicio</th>
	            <th scope="col">Ubicación</th>
	            <th scope="col">Periodicidad</th>
	            <th scope="col">Días mtto</th>
	            <th scope="col">Mes mantenimiento</th>
	            <th scope="col">Seleccione</th>
	            <th scope="col">Rutina</th>
	          </tr>
	          </thead>
	          <tbody>          
		          <tr class="table-light" th:each="equipo,iter:${equipos}">
		          	
		          	<th scope="row" th:text="${equipo.id_Equipo}"></a></th>
		            <td th:text="${equipo.nombre_Equipo}"></td>
		            <td th:text="${equipo.Marca}"></td>
		            <td th:text="${equipo.Modelo}"></td>
		            <td th:text="${equipo.Serie}"></td>
		            <td th:text="${equipo.Servicios}"></td>
		            <td th:text="${equipo.Ubicacion}"></td>
		            <td th:text = "${equipo.Periodicidad}"></td>
		            <td th:text="${equipo.Dias_mantenimiento}"></td>
		            <td th:text="${equipo.Meses_mantenimiento}"></td>
		            <td>
		            	<div class="form-check">
	                      <input type="checkbox" th:name="guias" th:value="${equipo.id_Equipo}">                 
	                    </div>	            
		            </td>   
		         	<td>
	              <button type="button" class="btn btn-primary" data-bs-toggle="modal" th:attr="data-bs-target='#staticBackdrop'+${equipo.id_Equipo}">
	                Rutina
	              </button>              
	              <!-- Modal -->
	              <div class="modal" th:id="'staticBackdrop'+${equipo.id_Equipo}" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
	                <div class="modal-dialog modal-xl">
	                  <div class="modal-content">
	                    <div class="modal-header">
	                      <h5 class="modal-title" id="staticBackdropLabel" th:text= "'Serie: '+${equipo.Serie}"></h5>
	                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
	                    </div>
	                    <div class="modal-body">
	                      <div class="container-fluid">
	                        <div class="row">
	                        	
	                        	<div class = "table-responsive">
								    	<table class="table table-hover">
							                <thead>
							                  <tr class="table-secondary">
							                    <th scope="col">N° Paso</th>
							                    <th scope="col">Paso</th>
							                   				              
							                  </tr>
							                </thead>                
							                <tbody>
							                <div th:if ="${protocolos.get(iter.index)}">
								                  <tr class="table-white" th:each="protocolo,count:${protocolos.get(iter.index)}">
								                  	
								                    	<td th:text="${count.index}"></td>
								                    	<td th:text="${protocolo.Paso}"></td>
								                  
							                                                         
								                  </tr>		
							                  </div>			                                                                                                                                   
							                </tbody>
							              </table>
								    </div>
	                        
	                        </div>
	                      </div>
	                    </div>
	                    <div class="modal-footer">
	                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
	                      <button sec:authorize= "hasAnyAuthority('ADMIN','EDITOR','USER')" type="button" class="btn btn-primary" >Editar</button>
	                                                 
	                    </div>
	                  </div>
	                </div>
	              </div>
	            </td>
		             
		            
		          </tr>
	          </tbody>
	        </table>
	        </div>
	        
 
	        <div class = "form-group" sec:authorize= "hasAnyAuthority('ADMIN','EDITOR','USER')">
        		<label class = "custom-file" th:id = "custom-file">
        			<input type = "file" class = "form-control" name = "file" accept = "application/pdf" required>
        			<span class = "form-control"></span>
        		</label>
        		<div class = "form-group">
            		<button type = "submit" class = "btn btn-success">Subir</button>
            		
        		</div>
        	</div>
        	
        	
	  </div>
 
  
        </div>
</form>
  <!-- FOOTER -->
  <footer class="container">
    <p class="float-end"><a href="#">Back to top</a></p>
    <p> 2021-2022 Company, Inc.</p>
  </footer>
</main>


    <script th:src="@{/js/bootstrap.bundle.min.js}"></script>
   
      
  </body>
</html>